(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{894:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>l,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=s(4);s(3176);var a=s(8347);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}},5304:(e,t,s)=>{Promise.resolve().then(s.bind(s,8418))},8265:(e,t,s)=>{"use strict";s.d(t,{Bq:()=>g,HJ:()=>u,Lt:()=>c,ZO:()=>o,ee:()=>l,jB:()=>m,mh:()=>x,qQ:()=>d});let r="fasting-app-data",a=()=>({currentSession:null,sessions:[],totalSessions:0,totalFastingTime:0}),n=()=>{try{let e=localStorage.getItem(r);if(!e)return a();return JSON.parse(e)}catch(e){return console.error("Error reading fasting data:",e),a()}},i=e=>{try{localStorage.setItem(r,JSON.stringify(e))}catch(e){throw console.error("Error saving fasting data:",e),e}},o=()=>{let e=n(),t={id:"session-".concat(Date.now()),startTime:Date.now(),createdAt:Date.now()};return e.currentSession=t,i(e),t},l=e=>{let t=n();if(!t.currentSession)return null;let s=Date.now(),r=s-t.currentSession.startTime,a={...t.currentSession,endTime:s,duration:r,notes:e};return t.sessions.unshift(a),t.totalSessions+=1,t.totalFastingTime+=r,t.currentSession=null,i(t),a},d=()=>n().currentSession,c=e=>{let t=n();if(!t.currentSession)return null;let s={...t.currentSession,startTime:e};return t.currentSession=s,i(t),s},u=()=>n().sessions,x=()=>{let e=n(),t=e.totalSessions>0?e.totalFastingTime/e.totalSessions:0,s=e.sessions.reduce((e,t)=>(t.duration||0)>e?t.duration||0:e,0);return{totalSessions:e.totalSessions,totalFastingTime:e.totalFastingTime,averageFastingTime:t,longestFast:s}},m=()=>{let e=new Blob([JSON.stringify(n(),null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="fasting-data-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},g=()=>{localStorage.removeItem(r)}},8347:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(5894),a=s(7399);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},8418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(4),a=s(3176),n=s(8924),i=s(894),o=s(1493),l=s(9487),d=s(9713),c=s.n(d),u=s(8265);let x=e=>{let t=Math.floor(e/1e3),s=Math.floor(t/3600),r=Math.floor(t%3600/60);return"".concat(String(s).padStart(2,"0"),":").concat(String(r).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))};function m(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)({totalSessions:0,totalFastingTime:0,averageFastingTime:0,longestFast:0});return(0,a.useEffect)(()=>{(()=>{let e=(0,u.HJ)(),s=(0,u.mh)();t(e),d(s)})()},[]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Fasting History"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Track your progress and view past sessions"})]}),(0,r.jsx)(c(),{href:"/",children:(0,r.jsx)(n.$,{variant:"outline",children:"Back to Tracker"})})]}),(0,r.jsxs)(i.Zp,{className:"mb-6",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Overall Statistics"})}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-primary",children:s.totalSessions}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Sessions"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[Math.floor(s.totalFastingTime/36e5),"h"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Time"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[Math.floor(s.averageFastingTime/36e5),"h"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average Fast"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[Math.floor(s.longestFast/36e5),"h"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Longest Fast"})]})]})})]}),(0,r.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,r.jsx)(n.$,{onClick:u.jB,variant:"outline",children:"Export Data"}),(0,r.jsx)(n.$,{onClick:()=>{confirm("Are you sure you want to clear all fasting data? This cannot be undone.")&&((0,u.Bq)(),t([]),d({totalSessions:0,totalFastingTime:0,averageFastingTime:0,longestFast:0}))},variant:"destructive",children:"Clear All Data"})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Session History"})}),(0,r.jsx)(i.Wu,{children:0===e.length?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)("p",{children:"No fasting sessions recorded yet."}),(0,r.jsx)(c(),{href:"/",children:(0,r.jsx)(n.$,{className:"mt-4",children:"Start Your First Fast"})})]}):(0,r.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"font-medium",children:(0,o.GP)(e.startTime,"EEEE, dd MMMM yyyy",{locale:l.ro})}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Started:"," ",(0,o.GP)(e.startTime,"HH:mm",{locale:l.ro}),e.endTime&&(0,r.jsxs)("span",{children:[" ","â€¢ Ended:"," ",(0,o.GP)(e.endTime,"HH:mm",{locale:l.ro})]})]}),e.notes&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Notes: ",e.notes]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.duration?x(e.duration):"In Progress"}),e.duration&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(e.duration/36e5).toFixed(1)," ","hours"]})]})]},e.id))})})]})]})})}},8924:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(4);s(3176);var a=s(9249),n=s(4552),i=s(8347);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:n,asChild:l=!1,...d}=e,c=l?a.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:s,size:n,className:t})),...d})}}},e=>{var t=t=>e(e.s=t);e.O(0,[826,476,571,358],()=>t(5304)),_N_E=e.O()}]);