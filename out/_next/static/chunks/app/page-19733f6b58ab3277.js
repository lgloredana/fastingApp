(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{894:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>n});var a=s(4);s(3176);var r=s(8347);function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},1779:(e,t,s)=>{Promise.resolve().then(s.bind(s,3696))},3696:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>J});var a=s(4),r=s(3176),i=s(8924),n=s(894),l=s(8306),d=s(8347);function c(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(l.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function o(e){let{...t}=e;return(0,a.jsx)(c,{children:(0,a.jsx)(l.bL,{"data-slot":"tooltip",...t})})}function u(e){let{...t}=e;return(0,a.jsx)(l.l9,{"data-slot":"tooltip-trigger",...t})}function x(e){let{className:t,sideOffset:s=0,children:r,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,d.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[r,(0,a.jsx)(l.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var m=s(1493),p=s(9487),h=s(9713),g=s.n(h),f=s(8265),j=s(5398),b=s(3771);function v(e){let{...t}=e;return(0,a.jsx)(j.bL,{"data-slot":"dialog",...t})}function N(e){let{...t}=e;return(0,a.jsx)(j.l9,{"data-slot":"dialog-trigger",...t})}function y(e){let{...t}=e;return(0,a.jsx)(j.ZL,{"data-slot":"dialog-portal",...t})}function w(e){let{className:t,...s}=e;return(0,a.jsx)(j.hJ,{"data-slot":"dialog-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function S(e){let{className:t,children:s,showCloseButton:r=!0,...i}=e;return(0,a.jsxs)(y,{"data-slot":"dialog-portal",children:[(0,a.jsx)(w,{}),(0,a.jsxs)(j.UC,{"data-slot":"dialog-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[s,r&&(0,a.jsxs)(j.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(b.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,d.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function T(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,d.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function H(e){let{className:t,...s}=e;return(0,a.jsx)(j.hE,{"data-slot":"dialog-title",className:(0,d.cn)("text-lg leading-none font-semibold",t),...s})}function C(e){let{className:t,...s}=e;return(0,a.jsx)(j.VY,{"data-slot":"dialog-description",className:(0,d.cn)("text-muted-foreground text-sm",t),...s})}function M(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,d.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var z=s(7197);function F(e){let{className:t,...s}=e;return(0,a.jsx)(z.b,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}var D=s(9209),A=s(1253);function E(e){let{currentStartTime:t,onUpdateStartTime:s}=e,[n,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)((0,m.GP)(t,"yyyy-MM-dd")),[o,u]=(0,r.useState)((0,m.GP)(t,"HH:mm"));return(0,a.jsxs)(v,{open:n,onOpenChange:l,children:[(0,a.jsx)(N,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"Update Start Time"]})}),(0,a.jsxs)(S,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(H,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-5 w-5"}),"Update Fasting Start Time"]}),(0,a.jsx)(C,{children:"Adjust when you actually started fasting. This will recalculate your current progress."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(F,{htmlFor:"current-time",children:"Current Start Time"}),(0,a.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded text-sm",children:(0,m.GP)(t,"EEEE, dd MMMM yyyy, HH:mm",{locale:p.ro})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(F,{htmlFor:"date",children:"Date"}),(0,a.jsx)(M,{id:"date",type:"date",value:d,onChange:e=>c(e.target.value),max:(0,m.GP)(new Date,"yyyy-MM-dd")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(F,{htmlFor:"time",children:"Time"}),(0,a.jsx)(M,{id:"time",type:"time",value:o,onChange:e=>u(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(F,{children:"New Start Time Preview"}),(0,a.jsx)("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded text-sm",children:(0,m.GP)(new Date("".concat(d,"T").concat(o)),"EEEE, dd MMMM yyyy, HH:mm",{locale:p.ro})})]})]}),(0,a.jsxs)(T,{children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{c((0,m.GP)(t,"yyyy-MM-dd")),u((0,m.GP)(t,"HH:mm")),l(!1)},children:"Cancel"}),(0,a.jsx)(i.$,{onClick:()=>{try{let e=new Date("".concat(d,"T").concat(o)).getTime();if(e>Date.now()){alert("Start time cannot be in the future!");return}let t=Date.now()-6048e5;if(e<t&&!confirm("The start time is more than 7 days ago. Are you sure?"))return;s(e),l(!1)}catch(e){alert("Invalid date/time format")}},children:"Update Start Time"})]})]})]})}var Z=s(9306),P=s(572);let O=e=>{let t=Math.floor(e/1e3),s=Math.floor(t/3600),a=Math.floor(t%3600/60);return"".concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))};function _(e){let{onConfirmStop:t,fastingStartTime:s,elapsedTime:n}=e,[l,d]=(0,r.useState)(!1);return(0,a.jsxs)(v,{open:l,onOpenChange:d,children:[(0,a.jsx)(N,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"destructive",size:"lg",className:"px-8 py-3 text-lg",children:"Oprește Fastingul"})}),(0,a.jsxs)(S,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(H,{className:"flex items-center gap-2 text-destructive",children:[(0,a.jsx)(Z.A,{className:"h-5 w-5"}),"Stop Fasting Session?"]}),(0,a.jsx)(C,{children:"Are you sure you want to stop this fasting period?"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:"This action cannot be undone and your current session will be saved to history."})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Session"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:O(n)})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Started:"}),(0,a.jsx)("span",{children:(0,m.GP)(s,"HH:mm, dd MMM",{locale:p.ro})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Duration:"}),(0,a.jsxs)("span",{className:"font-medium",children:[(n/36e5).toFixed(1)," hours"]})]})]})]})}),(0,a.jsxs)(T,{className:"gap-2",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{d(!1)},children:"Continue Fasting"}),(0,a.jsxs)(i.$,{variant:"destructive",onClick:()=>{t(),d(!1)},className:"gap-2",children:[(0,a.jsx)(P.A,{className:"h-4 w-4"}),"Stop & Save Session"]})]})]})]})}var R=s(6693),G=s(1666),$=s(5475);function B(e){let{phases:t,currentPhaseIndex:s,elapsedHours:l}=e,[c,o]=(0,r.useState)(s),u=e=>{o(c===e?null:e)},x=(e,t)=>l>=t.durationHours?"completed":e===s?"current":"upcoming",m=e=>{switch(e){case"completed":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"current":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700"}},p=e=>{switch(e){case"completed":return"✅";case"current":return"\uD83D\uDD04";default:return"⏳"}};return(0,a.jsxs)(n.Zp,{className:"lg:hidden",children:[" ",(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)(R.A,{className:"h-5 w-5"}),"Fazele Fastingului"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-3",children:[t.map((e,t)=>{let s=x(t,e),r=c===t;return(0,a.jsxs)("div",{className:(0,d.cn)("rounded-lg border-2 transition-all duration-200",m(s)),children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full p-4 h-auto justify-between hover:bg-transparent",onClick:()=>u(t),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-left",children:[(0,a.jsx)("span",{className:"text-lg",children:p(s)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 opacity-60"}),(0,a.jsxs)("span",{className:"font-medium text-sm",children:[e.durationHours,"h"]})]}),(0,a.jsx)("h3",{className:"font-semibold text-sm leading-tight mt-1",children:e.title})]})]}),r?(0,a.jsx)(G.A,{className:"h-4 w-4 opacity-60"}):(0,a.jsx)($.A,{className:"h-4 w-4 opacity-60"})]}),r&&(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsxs)("div",{className:"mt-2 pt-3 border-t border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:e.description.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"leading-relaxed",children:e},t))}),"current"===s&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-blue-100 dark:bg-blue-900/30 rounded-md",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800 dark:text-blue-200 font-medium",children:["\uD83D\uDD04 Faza curentă - ",l.toFixed(1),"h din ",e.durationHours,"h"]})}),"completed"===s&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-green-100 dark:bg-green-900/30 rounded-md",children:(0,a.jsx)("p",{className:"text-xs text-green-800 dark:text-green-200 font-medium",children:"✅ Fază completată"})}),"upcoming"===s&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-gray-100 dark:bg-gray-800 rounded-md",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:["⏳ \xcen ",(e.durationHours-l).toFixed(1),"h"]})})]})})]},t)}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,a.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:"\uD83D\uDCA1 Apasă pe fiecare fază pentru a vedea detalii complete"})})]})]})}let L=e=>{let t=Math.floor(e/1e3),s=Math.floor(t/3600),a=Math.floor(t%3600/60);return"".concat(String(s).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))},U=[{durationHours:0,title:"0–4 ore după ultima masă",description:"➡️ Corpul digeră glucoza din m\xe2ncare si e folosită pentru energie.\n➡️ Rezervele rapide de glucoză din ficat și mușchi se re\xeencarcă.\n\uD83E\uDDE0 Te simți bine, fără foame. E liniște metabolică."},{durationHours:4,title:"După 4 ore: Tranziția energetică",description:"Corpul \xeencepe să scoată energie din depozite, funcționează pe baterii interne."},{durationHours:5,title:"După 5 ore: Schimbarea combustibilului",description:"O ușoară foame și scădere de energie, motorul \xeencepe să schimbe combustibilul."},{durationHours:8,title:"După 8 ore: \xcencepe arderea grăsimilor",description:"\xcencepe arderea grăsimilor, grelina atinge v\xe2rf maxim (trece după 20-30 min), primul prag metabolic important."},{durationHours:12,title:"După 12 ore: Grăsimea, principala sursă de energie",description:"Grăsimea devine principala sursă de energie, creierul \xeencepe să meargă pe mod eco: cetone."},{durationHours:16,title:"După 16 ore: Debutează autofagia",description:"Autofagia debutează, arderea grăsimilor este la maxim, corpul intră \xeen faza de curățare interioară."},{durationHours:18,title:"După 18-20 ore: Autofagia se intensifică",description:"Autofagia se intensifică, grăsimile sunt arse la intensitate maximă, se simte o claritate mentală sau ușoară euforie, reparații interioare serioase, corpul face curat."},{durationHours:24,title:"După 24 ore: Echilibru metabolic profund",description:"Stare de echilibru metabolic profund, inflamația sistematică scade, se curăță structuri implicate \xeen \xeembătr\xe2nire și boli cronice, nivel maxim de autofagie."},{durationHours:36,title:"După 36-48 ore: Regenerare și resetare",description:"Autofagia e profundă, corpul \xeencepe regenerarea: tulpini celulare \xeen intestin și sistemul imunitar sunt stimulate, cetonele domină complet: claritate, energie lină, puțină foame, curățare + reconstrucție (resetarea sistemului)."}],I=e=>{if(e<4)return U[0];for(let t=U.length-1;t>=0;t--)if(e>=U[t].durationHours)return U[t];return U[0]},W=e=>{if(!e)return[];let t=[];return U.forEach(s=>{if(s.durationHours>0){let a=e+36e5*s.durationHours;t.push({phase:s,predictedTime:(0,m.GP)(a,"HH:mm, dd MMM",{locale:p.ro})})}}),t};function J(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(0),[d,h]=(0,r.useState)(I(0)),[j,b]=(0,r.useState)(null),[v,N]=(0,r.useState)([]),[y,w]=(0,r.useState)({totalSessions:0,totalFastingTime:0,averageFastingTime:0,longestFast:0});(0,r.useEffect)(()=>{(()=>{let e=(0,f.qQ)(),s=(0,f.HJ)(),a=(0,f.mh)();b(e),N(s),w(a),e&&t(e.startTime)})()},[]),(0,r.useEffect)(()=>{let t=null;return e?t=setInterval(()=>{let t=Date.now()-e;l(t),h(I(t/36e5))},1e3):(l(0),h(I(0))),()=>{t&&clearInterval(t)}},[e]);let S=(0,r.useCallback)(()=>{let e=(0,f.ZO)();b(e),t(e.startTime),w((0,f.mh)())},[]),k=(0,r.useCallback)(()=>{if(j){(0,f.ee)(),b(null),t(null);let e=(0,f.HJ)(),s=(0,f.mh)();N(e),w(s)}},[j]),T=(0,r.useCallback)(e=>{let s=(0,f.Lt)(e);s&&(b(s),t(s.startTime))},[]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white",children:"Fasting Tracker"}),(0,a.jsx)("div",{className:"flex-1 flex justify-end",children:(0,a.jsx)(g(),{href:"/history",children:(0,a.jsx)(i.$,{variant:"outline",children:"View History"})})})]}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Track your intermittent fasting journey and phases"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(n.Zp,{className:"h-full",children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-center",children:"Current Status"})}),(0,a.jsxs)(n.Wu,{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-muted-foreground mb-2",children:"Timp scurs:"}),(0,a.jsx)("p",{className:"text-6xl md:text-7xl font-extrabold tracking-tight text-primary mb-4",children:L(s)}),e&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Started:"," ",(0,m.GP)(e,"HH:mm, dd MMM",{locale:p.ro})]}),(0,a.jsx)(E,{currentStartTime:e,onUpdateStartTime:T})]})]}),(0,a.jsx)(c,{children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-semibold cursor-help text-center px-4",children:d.title})}),(0,a.jsx)(x,{className:"max-w-md text-center",children:(0,a.jsx)("div",{children:d.description.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-1 last:mb-0",children:e},t))})})]}),(0,a.jsx)("div",{className:"text-lg text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:d.description.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-2 last:mb-0",children:e},t))})]})}),(0,a.jsx)("div",{className:"flex justify-center gap-4 pt-4",children:e?(0,a.jsx)(_,{onConfirmStop:k,fastingStartTime:e,elapsedTime:s}):(0,a.jsx)(i.$,{onClick:S,size:"lg",className:"px-8 py-3 text-lg",children:"\xcencepe Fastingul"})})]})]})}),(0,a.jsx)(B,{phases:U,currentPhaseIndex:U.findIndex(e=>e.durationHours===d.durationHours),elapsedHours:s/36e5}),(0,a.jsxs)("div",{className:"space-y-6",children:[e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl",children:"Upcoming Phases"})}),(0,a.jsx)(n.Wu,{className:"space-y-3",children:(0,a.jsx)(c,{children:W(e).slice(0,5).map((e,t)=>{let r=s/36e5>=e.phase.durationHours,i=!r&&0===t;return(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1 p-3 rounded-lg cursor-help transition-colors ".concat(r?"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700":i?"bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700":"bg-gray-50 dark:bg-gray-800"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium text-sm ".concat(r?"text-green-800 dark:text-green-200":i?"text-blue-800 dark:text-blue-200":"text-gray-700 dark:text-gray-300"),children:e.phase.title.split(":")[0]}),(0,a.jsx)("span",{className:"text-xs ".concat(r?"text-green-600 dark:text-green-300":i?"text-blue-600 dark:text-blue-300":"text-muted-foreground"),children:r?"✓ Complete":e.predictedTime})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.phase.durationHours,"h mark"]})]})}),(0,a.jsx)(x,{className:"max-w-xs text-center",children:(0,a.jsx)("div",{children:e.phase.description.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-1 last:mb-0 text-sm",children:e},t))})})]},t)})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl",children:"Progress Overview"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Current Phase"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.floor(s/36e5),"h"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:(0,a.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-1000",style:{width:"".concat(Math.min(100,s/36e5/48*100),"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"0h"}),(0,a.jsx)("span",{children:"48h"})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Total Time:"}),(0,a.jsx)("span",{className:"font-mono",children:L(s)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Hours Fasted:"}),(0,a.jsxs)("span",{className:"font-mono",children:[(s/36e5).toFixed(1),"h"]})]})]})})]})]}),e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl",children:"Current Session"})}),(0,a.jsx)(n.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:Math.floor(s/36e5)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hours"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:Math.floor(s/6e4)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl",children:"Statistics"})}),(0,a.jsxs)(n.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Total Sessions:"}),(0,a.jsx)("span",{className:"font-medium",children:y.totalSessions})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Total Time:"}),(0,a.jsx)("span",{className:"font-medium",children:L(y.totalFastingTime)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Average Fast:"}),(0,a.jsx)("span",{className:"font-medium",children:L(y.averageFastingTime)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Longest Fast:"}),(0,a.jsx)("span",{className:"font-medium",children:L(y.longestFast)})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsx)(i.$,{onClick:f.jB,variant:"outline",size:"sm",className:"w-full",children:"Export Data"})})]})]}),v.length>0&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl",children:"Recent Sessions"})}),(0,a.jsxs)(n.Wu,{className:"space-y-2",children:[v.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:(0,m.GP)(e.startTime,"dd MMM",{locale:p.ro})}),(0,a.jsx)("span",{className:"font-medium",children:e.duration?L(e.duration):"In Progress"})]}),e.duration&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(e.duration/36e5).toFixed(1),"h fast"]})]},e.id)),v.length>3&&(0,a.jsx)("div",{className:"text-center pt-2",children:(0,a.jsx)(g(),{href:"/history",children:(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-xs",children:["View All ",v.length," Sessions"]})})})]})]})]})]})]})})}},8265:(e,t,s)=>{"use strict";s.d(t,{Bq:()=>p,HJ:()=>u,Lt:()=>o,ZO:()=>l,ee:()=>d,jB:()=>m,mh:()=>x,qQ:()=>c});let a="fasting-app-data",r=()=>({currentSession:null,sessions:[],totalSessions:0,totalFastingTime:0}),i=()=>{try{let e=localStorage.getItem(a);if(!e)return r();return JSON.parse(e)}catch(e){return console.error("Error reading fasting data:",e),r()}},n=e=>{try{localStorage.setItem(a,JSON.stringify(e))}catch(e){throw console.error("Error saving fasting data:",e),e}},l=()=>{let e=i(),t={id:"session-".concat(Date.now()),startTime:Date.now(),createdAt:Date.now()};return e.currentSession=t,n(e),t},d=e=>{let t=i();if(!t.currentSession)return null;let s=Date.now(),a=s-t.currentSession.startTime,r={...t.currentSession,endTime:s,duration:a,notes:e};return t.sessions.unshift(r),t.totalSessions+=1,t.totalFastingTime+=a,t.currentSession=null,n(t),r},c=()=>i().currentSession,o=e=>{let t=i();if(!t.currentSession)return null;let s={...t.currentSession,startTime:e};return t.currentSession=s,n(t),s},u=()=>i().sessions,x=()=>{let e=i(),t=e.totalSessions>0?e.totalFastingTime/e.totalSessions:0,s=e.sessions.reduce((e,t)=>(t.duration||0)>e?t.duration||0:e,0);return{totalSessions:e.totalSessions,totalFastingTime:e.totalFastingTime,averageFastingTime:t,longestFast:s}},m=()=>{let e=new Blob([JSON.stringify(i(),null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="fasting-data-backup-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},p=()=>{localStorage.removeItem(a)}},8347:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(5894),r=s(7399);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},8924:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(4);s(3176);var r=s(9249),i=s(4552),n=s(8347);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:i,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:t})),...c})}}},e=>{var t=t=>e(e.s=t);e.O(0,[826,336,476,571,358],()=>t(1779)),_N_E=e.O()}]);